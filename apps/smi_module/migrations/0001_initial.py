# Generated by Django 5.2.3 on 2025-11-30 19:04

import django.db.models.deletion
import django.utils.timezone
from django.db import migrations, models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('core', '0003_alter_smi_registration_date'),
    ]

    operations = [
        migrations.CreateModel(
            name='BalanceSheet',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period_end', models.DateField()),
                ('shareholders_funds', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('total_assets', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('total_liabilities', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('current_assets', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('current_liabilities', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('working_capital', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('cash_cover', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
            ],
        ),
        migrations.CreateModel(
            name='FinancialStatement',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('period_start', models.DateField()),
                ('period_end', models.DateField()),
                ('total_revenue', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('operating_costs', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('profit_before_tax', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('gross_margin', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('profit_margin', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='ReportingPeriod',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('start', models.DateField()),
                ('end', models.DateField()),
            ],
        ),
        migrations.CreateModel(
            name='BalanceLiability',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('liability_type', models.CharField(max_length=255)),
                ('category', models.CharField(max_length=255)),
                ('value', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('is_current', models.BooleanField(default=False)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('balance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='liabilities', to='smi_module.balancesheet')),
            ],
        ),
        migrations.CreateModel(
            name='BalanceAsset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('asset_type', models.CharField(max_length=255)),
                ('category', models.CharField(max_length=255)),
                ('value', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('is_current', models.BooleanField(default=False)),
                ('acquisition_date', models.DateField(blank=True, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('balance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='assets', to='smi_module.balancesheet')),
            ],
        ),
        migrations.CreateModel(
            name='Creditor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('amount', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('due_date', models.DateField(blank=True, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('balance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='creditors', to='smi_module.balancesheet')),
            ],
        ),
        migrations.CreateModel(
            name='Debtor',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('amount', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('age_days', models.IntegerField(default=0)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('balance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='debtors', to='smi_module.balancesheet')),
            ],
        ),
        migrations.CreateModel(
            name='IncomeItem',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('category', models.CharField(max_length=255)),
                ('description', models.TextField(blank=True)),
                ('amount', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('is_core', models.BooleanField(default=False)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('financial_statement', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='income_items', to='smi_module.financialstatement')),
            ],
        ),
        migrations.CreateModel(
            name='RelatedParty',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('relationship', models.CharField(max_length=255)),
                ('balance', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('type', models.CharField(max_length=64)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('balance_sheet', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='related_parties', to='smi_module.balancesheet')),
            ],
        ),
        migrations.CreateModel(
            name='SMISubmission',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('reporting_period', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='submission', to='smi_module.reportingperiod')),
                ('smi', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='smi_submissions', to='core.smi')),
            ],
        ),
        migrations.CreateModel(
            name='RiskAssessment',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('credit_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('credit_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('credit_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('market_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('market_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('market_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('liquidity_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('liquidity_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('liquidity_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('operational_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('operational_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('operational_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('legal_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('legal_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('legal_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('compliance_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('compliance_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('compliance_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('strategic_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('strategic_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('strategic_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('reputation_risk_weight', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('reputation_risk_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('reputation_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('composite_risk_rating', models.CharField(default='Not Calculated', max_length=32)),
                ('fsi_score', models.DecimalField(decimal_places=3, default=0, max_digits=6)),
                ('created_at', models.DateTimeField(default=django.utils.timezone.now)),
                ('updated_at', models.DateTimeField(auto_now=True)),
                ('submission', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='risk_assessment', to='smi_module.smisubmission')),
            ],
        ),
        migrations.CreateModel(
            name='Product',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('product_name', models.CharField(max_length=255)),
                ('product_type', models.CharField(max_length=255)),
                ('launch_date', models.DateField(blank=True, null=True)),
                ('income', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('concentration_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='products', to='smi_module.smisubmission')),
            ],
        ),
        migrations.AddField(
            model_name='financialstatement',
            name='submission',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='financial_statement', to='smi_module.smisubmission'),
        ),
        migrations.CreateModel(
            name='Committee',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('purpose', models.TextField(blank=True)),
                ('chairperson', models.CharField(blank=True, max_length=255)),
                ('members', models.JSONField(default=list)),
                ('meetings_held', models.IntegerField(default=0)),
                ('meeting_frequency', models.CharField(blank=True, max_length=100)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='committees', to='smi_module.smisubmission')),
            ],
        ),
        migrations.CreateModel(
            name='ClientAsset',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('asset_type', models.CharField(max_length=255)),
                ('category', models.CharField(max_length=255)),
                ('value', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('is_current', models.BooleanField(default=False)),
                ('acquisition_date', models.DateField(blank=True, null=True)),
                ('concentration_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='client_assets', to='smi_module.smisubmission')),
            ],
        ),
        migrations.CreateModel(
            name='Client',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('client_name', models.CharField(max_length=255)),
                ('client_type', models.CharField(max_length=255)),
                ('onboarding_date', models.DateField(blank=True, null=True)),
                ('income', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('concentration_percentage', models.DecimalField(blank=True, decimal_places=2, max_digits=5, null=True)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='clients', to='smi_module.smisubmission')),
            ],
        ),
        migrations.CreateModel(
            name='CapitalPosition',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('calculation_date', models.DateField()),
                ('net_capital', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('required_capital', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('adjusted_liquid_capital', models.DecimalField(decimal_places=2, default=0, max_digits=18)),
                ('is_compliant', models.BooleanField(default=False)),
                ('capital_adequacy_ratio', models.DecimalField(blank=True, decimal_places=2, max_digits=7, null=True)),
                ('submission', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='capital_position', to='smi_module.smisubmission')),
            ],
        ),
        migrations.CreateModel(
            name='BoardMember',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('name', models.CharField(max_length=255)),
                ('position', models.CharField(max_length=255)),
                ('appointment_date', models.DateField()),
                ('qualifications', models.TextField(blank=True)),
                ('experience', models.TextField(blank=True)),
                ('is_pep', models.BooleanField(default=False)),
                ('frontend_id', models.CharField(blank=True, max_length=64)),
                ('submission', models.ForeignKey(on_delete=django.db.models.deletion.CASCADE, related_name='board_members', to='smi_module.smisubmission')),
            ],
        ),
        migrations.AddField(
            model_name='balancesheet',
            name='submission',
            field=models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='balance_sheet', to='smi_module.smisubmission'),
        ),
        migrations.CreateModel(
            name='SubmissionMetadata',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('submitted_at', models.DateTimeField(blank=True, null=True)),
                ('total_board_members', models.IntegerField(default=0)),
                ('total_committees', models.IntegerField(default=0)),
                ('total_products', models.IntegerField(default=0)),
                ('total_clients', models.IntegerField(default=0)),
                ('total_income_items', models.IntegerField(default=0)),
                ('total_assets', models.IntegerField(default=0)),
                ('total_liabilities', models.IntegerField(default=0)),
                ('total_client_asset_types', models.IntegerField(default=0)),
                ('total_documents', models.IntegerField(default=0)),
                ('submission', models.OneToOneField(on_delete=django.db.models.deletion.CASCADE, related_name='metadata', to='smi_module.smisubmission')),
            ],
        ),
    ]
